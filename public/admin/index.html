<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Content Manager</title>
    <!-- <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script> -->
    <!-- <script src="../../src/cms/IndexPagePreview.js"></script> -->
</head>

<body>
    <!-- Include the script that builds the page and powers Netlify CMS -->
    <script src="https://unpkg.com/netlify-cms@2.9.7/dist/netlify-cms.js"></script>
    <script>
        console.log('Hey');
        import CMS from 'netlify-cms-app'
        import React from 'react'
        import Home from '../pages/index'

        const IndexPagePreview = ({ entry, widgetsFor }) => {
            // const data = entry.getIn(['data']).toJS();
            console.log('hey');
            if (data) {
                return (
                    <Home
                        header={data.header}
                        collaborators={data.collaborators}
                        about={data.about}
                        groups={data.groups}
                        schedule={data.schedule}
                        sponsors={data.sponsors}
                        judges={data.judges}
                        hosts={data.hosts}
                        mentors={data.mentors}
                        info={data.info}
                    />
                )
            } else {
                return <div>Loading...</div>
            }
        }

        export default IndexPagePreview

        CMS.registerPreviewTemplate('index', IndexPagePreview)
        CMS.registerPreviewStyle('../components/css/agency.css');
        CMS.registerPreviewStyle('../components/css/animate.min.css');
        CMS.registerPreviewStyle('../components/css/bootstrap.min.css');</script>
</body>

</html>